# Прогресс по структурам и методам Zalo Bot

Чек-лист отражает текущее состояние разработки основных подсистем, структур данных и публичных методов бота. По мере реализации соответствующие пункты отмечаются галочками.

## Архитектура и инфраструктура

- [ ] Базовая структура проекта и модульная организация
- [ ] Конфигурационный слой с валидацией и безопасными значениями по умолчанию
- [ ] Логирование через `tracing` с маскированием чувствительных данных
- [ ] Подсистема обработки ошибок на основе `thiserror`

## Интеграция с Zalo API

- [ ] HTTP-клиент с таймаутами, ретраями и backoff
- [ ] Типы данных для запросов и ответов API
- [ ] Проверка и обновление токенов доступа
- [ ] Поддержка webhook-событий и подписи сообщений

## Бизнес-логика

- [ ] Диспетчер входящих событий (router)
- [ ] Контроллер команд с возможностью расширения
- [ ] Управление сессиями пользователей и хранение состояния
- [ ] Планировщик отложенных задач и напоминаний

## Хранилища и интеграции

- [ ] Абстракция слоя хранения (интерфейсы репозиториев)
- [ ] Реализация хранилища на PostgreSQL с миграциями
- [ ] Поддержка in-memory стора для тестов
- [ ] Интеграция с внешними сервисами (например, CRM)

## Тестирование и качество

- [ ] Набор модульных тестов для публичных API
- [ ] Property-based тестирование критичных модулей
- [ ] Интеграционные тесты для взаимодействия с Zalo sandbox
- [ ] Непрерывная интеграция с запуском форматирования, линтера, тестов и `cargo doc`

## Документация и примеры

- [ ] Полное README с инструкциями по запуску и вкладке
- [ ] Rustdoc-примеры для публичных методов
- [ ] ADR по ключевым архитектурным решениям
- [ ] Раздел "Failure modes" для I/O и сетевых компонентов
